{"version":3,"file":"component---src-pages-guides-how-to-upload-index-md-c3d6007b3495a9c4173c.js","mappings":"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","sources":["webpack://frameio-api/./src/pages/guides/How To: Upload/index.md"],"sourcesContent":["import * as React from 'react'\n  /* @jsx mdx */\nimport { mdx } from '@mdx-js/react';\n/* @jsxRuntime classic */\n/* @jsx mdx */\nimport DefaultLayout from \"/home/runner/work/frameio-api/frameio-api/node_modules/@adobe/gatsby-theme-aio/src/components/MDXFilter/index.js\";\nexport const _frontmatter = {};\nconst layoutProps = {\n  _frontmatter\n};\nconst MDXLayout = DefaultLayout;\nexport default function MDXContent({\n  components,\n  ...props\n}) {\n  return <MDXLayout {...layoutProps} {...props} components={components} mdxType=\"MDXLayout\">\n\n\n    <h1 {...{\n      \"id\": \"how-to-upload\"\n    }}>{`How to: Upload`}</h1>\n    <p>{`This guide details the full flow to upload files using the Frame.io V4 API.  `}</p>\n    <h2 {...{\n      \"id\": \"prerequisites\"\n    }}>{`Prerequisites`}</h2>\n    <ol>\n      <li parentName=\"ol\">{`You have a Frame.io V4 account administered via the `}<a parentName=\"li\" {...{\n          \"href\": \"https://adminconsole.adobe.com/\"\n        }}>{`Adobe Admin Console`}</a>{`, OR you have `}<a parentName=\"li\" {...{\n          \"href\": \"https://help.frame.io/en/articles/11758018-connecting-to-adobe-authentication\"\n        }}>{`switched to Adobe authentication`}</a>{` for your account user`}</li>\n      <li parentName=\"ol\">{`You have logged into the `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/console\"\n        }}>{`Adobe Developer Console`}</a>{` and have added the Frame.io API to a new or existing project`}</li>\n      <li parentName=\"ol\">{`You have generated the `}<a parentName=\"li\" {...{\n          \"href\": \"https://developer.adobe.com/frameio/guides/Authentication/\"\n        }}>{`appropriate Authentication credentials`}</a>{` for your project`}</li>\n      <li parentName=\"ol\">{`You have succfully used those credentials to generate an access token`}</li>\n    </ol>\n    <h2 {...{\n      \"id\": \"choosing-your-upload-method\"\n    }}>{`Choosing your upload method`}</h2>\n    <p>{`There are two ways to upload a file using the Frame.io API: `}<inlineCode parentName=\"p\">{`Create File (local upload)`}</inlineCode>{` and `}<inlineCode parentName=\"p\">{`Create File (remote upload)`}</inlineCode>{`. The local endpoint would be used when the media is locally accessible to your application, similar to dragging a file from your desktop; the remote upload option would be used when the media is accessed over the network, such as through an integration with another service. In this guide we'll start with the simpler case of completing a remote upload.`}</p>\n    <h2 {...{\n      \"id\": \"remote-upload\"\n    }}>{`Remote Upload`}</h2>\n    <p>{`To create a file through remote upload, select the `}<strong parentName=\"p\">{`Create File (remote upload)`}</strong>{` endpoint. The request body requires the file name and its source url.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{ \n    \"data\": {\n        \"name\": \"my_file.jpg\",\n        \"source_url\": \"https://upload.wikimedia.org/wikipedia/commons/e/e1/White_Pixel_1x1.jpg\"\n    }\n}\n`}</code></pre>\n    <p>{`A successful request will yield a response like the one below.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"data\": {\n        \"id\": \"93e4079d-0a8a-4bf3-96cd-e6a03c465e5e\",\n        \"name\": \"my_file.jpg\",\n        \"status\": \"created\",\n        \"type\": \"file\",\n        \"file_size\": 518,\n        \"updated_at\": \"2025-06-26T20:14:33.796116Z\",\n        \"media_type\": \"image/jpeg\",\n        \"parent_id\": \"2e426fe0-f965-4594-8b2b-b4dff1dc00ec\",\n        \"project_id\": \"7e46e495-4444-4555-8649-bee4d391a997\",\n        \"created_at\": \"2025-06-26T20:14:33.159489Z\",\n        \"view_url\": \"https://next.frame.io/project/7e46e495-4444-4555-8649-bee4d391a997/view/93e4079d-0a8a-4bf3-96cd-e6a03c465e5e\"\n    },\n    \"links\": {\n        \"status\": \"/v4/accounts/6f70f1bd-7e89-4a7e-b4d3-7e576585a181/files/93e4079d-0a8a-4bf3-96cd-e6a03c465e5e/status\"\n    }\n}\n`}</code></pre>\n    <h2 {...{\n      \"id\": \"local-upload\"\n    }}>{`Local Upload`}</h2>\n    <p>{`To create a file through local upload, select the `}<strong parentName=\"p\">{`Create File (local upload)`}</strong>{` endpoint. The request body requires the file name and its file size specified in bytes.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{ \n\"data\": {\n    \"name\": \"my_file.jpg\",\n    \"file_size\": 50645990\n  }\n}\n`}</code></pre>\n    <p>{`If the request is successful, a placeholder file resource is created without any content. Depending on the file size, the response body will include one or more `}<inlineCode parentName=\"p\">{`upload_urls`}</inlineCode>{`. Given this example, we will need to manage this upload in multiple parts. See `}<a parentName=\"p\" {...{\n        \"href\": \"#multi-part-upload\"\n      }}>{`Multi-part Upload`}</a>{` for next steps.`}</p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-json\"\n      }}>{`{\n    \"data\": {\n        \"id\": \"fa18ba7b-b3ee-4dd6-9b31-bd07e554241d\",\n        \"name\": \"my_file.jpg\",\n        \"status\": \"created\",\n        \"type\": \"file\",\n        \"file_size\": 50645990,\n        \"updated_at\": \"2025-06-26T20:08:06.823170Z\",\n        \"media_type\": \"image/jpeg\",\n        \"parent_id\": \"2e426fe0-f965-4594-8b2b-b4dff1dc00ec\",\n        \"project_id\": \"7e46e495-4444-4555-8649-bee4d391a997\",\n        \"created_at\": \"2025-06-26T20:08:06.751313Z\",\n        \"upload_urls\": [\n            {\n                \"size\": 16881997,\n                \"url\": \"https://frameio-uploads-development.s3-accelerate.amazonaws.com/parts/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d/part_1?...\"\n            },\n            {\n                \"size\": 16881997,\n                \"url\": \"https://frameio-uploads-development.s3-accelerate.amazonaws.com/parts/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d/part_2?...\"\n            },\n            {\n                \"size\": 16881996,\n                \"url\": \"https://frameio-uploads-development.s3-accelerate.amazonaws.com/parts/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d/part_3?...\"\n            },\n\n        ],\n        \"view_url\": \"https://next.frame.io/project/7e46e495-4444-4555-8649-bee4d391a997/view/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d\"\n    }\n}\n`}</code></pre>\n    <p><strong parentName=\"p\">{`NOTE:`}</strong>{` These are important details to keep in mind when sending the subsequent upload request(s).`}</p>\n    <blockquote>\n      <ul parentName=\"blockquote\">\n        <li parentName=\"ul\">{`The HTTP request method must be `}<inlineCode parentName=\"li\">{`PUT`}</inlineCode>{`.`}</li>\n        <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`x-amz-acl`}</inlineCode>{` header must be included and be set to private.`}</li>\n        <li parentName=\"ul\">{`The `}<inlineCode parentName=\"li\">{`Content-Type`}</inlineCode>{` header must match the `}<inlineCode parentName=\"li\">{`media_type`}</inlineCode>{` specified in the original `}<strong parentName=\"li\">{`Create File (local upload)`}</strong>{` request. This is true even when uploading the file as separate parts. In the example above, the value for `}<inlineCode parentName=\"li\">{`media_type`}</inlineCode>{` is `}<inlineCode parentName=\"li\">{`image/jpeg`}</inlineCode>{`. Therefore, the value for `}<inlineCode parentName=\"li\">{`Content-Type`}</inlineCode>{` must also be `}<inlineCode parentName=\"li\">{`image/jpeg`}</inlineCode>{`.`}</li>\n      </ul>\n    </blockquote>\n    <h2 {...{\n      \"id\": \"multi-part-upload\"\n    }}>{`Multi-part Upload`}</h2>\n    <p>{`When a given file results in more than one upload url, it may be useful to compose a shell script that splits up the source file into chunks and issues the same number of subsequent requests.`}</p>\n    <p>{`In the sample Python script below, we're passing in multiple upload urls in the `}<inlineCode parentName=\"p\">{`upload_urls`}</inlineCode>{` parameter.`}</p>\n    <p><strong parentName=\"p\">{`Create File (local upload) with Multi-part Upload`}</strong></p>\n    <pre><code parentName=\"pre\" {...{\n        \"className\": \"language-python\"\n      }}>{`import requests\nimport math\nfrom typing import List\nfrom tqdm import tqdm  # For progress bar\n\ndef upload_file_in_chunks(file_path: str, upload_urls: list[str], content_type: str | None = None, chunk_size: int | None = None) -> bool:\n    \"\"\"\n    Upload a file in chunks using presigned URLs.\n    \"\"\"\n    try:\n        # Auto-detect content type based on file extension\n        if content_type is None:\n            detected_content_type, _ = mimetypes.guess_type(file_path)\n            content_type = detected_content_type # Default fallback\n        \n        print(f\"Detected content type: {content_type}\")\n        \n        # Get file size\n        with open(file_path, 'rb') as f:\n            f.seek(0, 2)  # Seek to end of file\n            file_size = f.tell()\n        \n        # Calculate chunk size if not provided\n        if chunk_size is None:\n            chunk_size = math.ceil(file_size / len(upload_urls))\n        \n        print(f\"File size: {file_size} bytes\")\n        print(f\"Chunk size: {chunk_size} bytes\")\n        print(f\"Number of chunks: {len(upload_urls)}\")\n        \n        # Upload each chunk\n        with open(file_path, 'rb') as f:\n            with tqdm(total=len(upload_urls), desc=\"Uploading chunks\") as pbar:\n                for i, url in enumerate(upload_urls):\n                    start_byte = i * chunk_size\n                    end_byte = min(start_byte + chunk_size, file_size)\n                    \n                    # Read chunk from file\n                    f.seek(start_byte)\n                    chunk = f.read(end_byte - start_byte)\n                    \n                    print(f\"Uploading chunk {i+1}: {len(chunk)} bytes\")\n                    \n                    # Upload chunk with minimal headers matching the signature\n                    response = requests.put(\n                        url,\n                        data=chunk,\n                        headers={\n                            'content-type': content_type,  \n                            'x-amz-acl': 'private'       \n                        }\n                    )\n                    \n                    if response.status_code != 200:\n                        print(f\"Failed to upload chunk {i+1}. Status code: {response.status_code}\")\n                        print(f\"Response text: {response.text}\")\n                        print(f\"Response headers: {dict(response.headers)}\")\n                        return False\n                    else:\n                        print(f\"Chunk {i+1} uploaded successfully!\")\n                    \n                    pbar.update(1)\n        \n        return True\n    \n    except Exception as e:\n        print(f\"Error during upload: {str(e)}\")\n        return False\n\n# Example usage\nif __name__ == \"__main__\":\n    # Replace these with your actual values\n    file_path =  \"/Users/MyComputer/local_upload/sample.jpg\"  # Path to your file\n    upload_urls = [\"https://frameio-uploads-development.s3-accelerate.amazonaws.com/parts/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d/part_1?...\", \"https://frameio-uploads-development.s3-accelerate.amazonaws.com/parts/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d/part_2?...\", \"https://frameio-uploads-development.s3-accelerate.amazonaws.com/parts/fa18ba7b-b3ee-4dd6-9b31-bd07e554241d/part_3?...\"]\n    content_type = \"image/jpeg\"\n    \n    print(\"Starting file upload...\")\n    success = upload_file_in_chunks(file_path, upload_urls, content_type)\n    \n    if success:\n        print(\"File upload completed successfully!\")\n    else:\n        print(\"File upload failed!\")\n`}</code></pre>\n\n    </MDXLayout>;\n}\n;\nMDXContent.isMDXComponent = true;\n      "],"names":["_frontmatter","layoutProps","MDXLayout","DefaultLayout","MDXContent","_ref","components","props","_objectWithoutPropertiesLoose","_excluded","mdx","_extends","mdxType","parentName","isMDXComponent"],"sourceRoot":""}